<div>Portfolio: {{portfolio.id}}, {{portfolio.name}}</div>

<div ng-show="!alist" class="alert alert-warning">
  No assets
</div>
<div>
  <a class="btn btn-primary" href="#/assetAdd?pid={{portfolio.id}}">
    <span class="glyphicon glyphicon-plus"></span>
  </a>
</div>

<div ng-show="alist">
  <div>Portfolio VaR 95%: {{100*portfolioVaR(95)|number:2}} %</div>

  <table class="table">
    <tr>
      <th>&nbsp;</th>
      <th>Symbol</th>
      <th>Name</th>
      <th>Exchange</th>
      <th>&nbsp;</th>
      <th>&nbsp;</th>
      <th>
        VaR (95%)
        &nbsp;
        based on <a href="https://gist.github.com/deenar/f97d517d3188fc7b5302" target="_blank">this</a>
      </th>
    </tr>
    <tr ng-repeat="a in alist track by a.src+a.lookup.Symbol">
      <td><input type="checkbox" ng-model="a.selected" /></td>
      <td>{{a.lookup.Symbol}}</td>
      <td>{{a.lookup.Name}}</td>
      <td>{{a.lookup.Exchange}}</td>
      <td>
        <div jq-sparkline ng-model="a.pnlsEdf" type="bar" ng-if="a.pnlsEdf"></div>
      </td>
      <td>
        <button class="btn btn-danger btn-xs" ng-click="remove(a)">
          <span class="glyphicon glyphicon-remove"></span>
        </button>
      </td>
      <td>
        {{100*calculateVaR(a,95)|number:2}} %
      </td>
      <td>
      <a ng-href="#/assetShow/{{a.src}}/{{a.lookup.Symbol}}?pid={{portfolio.id}}">Details</a>
      </td>
    </tr>
  </table>

</div>
